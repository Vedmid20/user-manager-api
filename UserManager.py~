import requests, colorama
from User import User


class UserManager:
    def __init__(self):
        self.URL = 'https://jsonplaceholder.typicode.com/users'

    def fetch_users(self):
        self.response = requests.get(self.URL)
        self.status = self.response.status_code
        self.users = self.response.json()

        return self.users

    def parse_users(self):
        return [User(user['id'], user['name'], user['username'], user['email']) for user in self.fetch_users()]

u = UserManager()
print(u.parse_users()[0])
# print(u.users)